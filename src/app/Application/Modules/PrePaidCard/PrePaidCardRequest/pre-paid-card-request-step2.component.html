<div class="container-fluid">
  <div class="sme-page-block">
    <div class="sme-form">
      <div class="sme-form__title">
        <div class="col-xs-12 col-sm-6 text-left">
          {{ 'prePaidCard.requestPrepaidCard' | translate}}
        </div>
      </div>
      <div class="sme-panel">
        <div class="sme-panel__body">
          <div class="sme-form__body requestFormContainer">
            <div style="margin: 5px;" [formGroup]="form">

              <div class="row">
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.companyEmbossingName' | translate}}
                  </label>
                  <input name="companyEmbossingName" formControlName="companyEmbossingName"
                         type="text"
                         class="form-control prepaid-card-form" required maxlength="30" inputPattern="notArabic">
                  <div *ngIf="form.controls.companyEmbossingName.hasError('required')
                          && (form.controls.companyEmbossingName.touched || (selectedUserJourney == 1 && !form.controls.national_id.touched))" class="alert alert-danger bottomAlert">
                    <small>{{'error.required' | translate}}</small>
                  </div>
                  <div *ngIf="form.controls.companyEmbossingName.hasError('pattern')
                     && form.controls.companyEmbossingName.touched" class="alert alert-danger bottomAlert">
                    <small>
                      {{'prePaidCard.companyEmbossingName' | translate}} {{'error.invalid' | translate }}
                    </small>
                  </div>
                </div>
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.national_id' | translate }}
                  </label>
                  <input name="national_id" formControlName="national_id"
                         class="form-control prepaid-card-form" maxlength="10" inputPattern="onlyDigits">
                  <div *ngIf="form.controls.national_id.hasError('required')
                     && (form.controls.national_id.touched || (selectedUserJourney == 1 && !form.controls.national_id.touched))" class="alert alert-danger bottomAlert">
                    <small>{{'error.required' | translate}}</small>
                  </div>
                  <div *ngIf="(form.controls.national_id.hasError('pattern')
                     || form.controls.national_id.hasError('incorrecId-Iqama') )
                    && form.controls.national_id.touched" class="alert alert-danger bottomAlert">
                    <small>
                      {{'prePaidCard.national_id' | translate }} {{'error.invalid' | translate }}
                    </small>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.holderFirstName' | translate }}
                  </label>
                  <input name="holderFirstName" formControlName="holderFirstName" type="text"
                         class="form-control prepaid-card-form" maxlength="15" inputPattern="notArabic">
                  <div *ngIf="form.controls.holderFirstName.hasError('required')
                     && (form.controls.holderFirstName.touched || (selectedUserJourney == 1 && !form.controls.national_id.touched))" class="alert alert-danger bottomAlert">
                    <small>{{'error.required' | translate}}</small>
                  </div>
                  <div *ngIf="form.controls.holderFirstName.hasError('pattern')
                       && form.controls.holderFirstName.touched" class="alert alert-danger bottomAlert">
                    <small>
                      {{'prePaidCard.holderFirstName' | translate }} {{'error.invalid' | translate }}
                    </small>
                  </div>
                </div>
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.holderLastName' | translate}}
                  </label>
                  <input name="holderLastName" formControlName="holderLastName" type="text"
                         class="form-control prepaid-card-form" required maxlength="14" inputPattern="notArabic">
                  <div *ngIf="form.controls.holderLastName.hasError('required')
                     && (form.controls.holderLastName.touched || (selectedUserJourney == 1 && !form.controls.national_id.touched))" class="alert alert-danger bottomAlert">
                    <small>{{'error.required' | translate}}</small>
                  </div>
                  <div *ngIf="form.controls.holderLastName.hasError('pattern') &&
                     form.controls.holderLastName.touched" class="alert alert-danger bottomAlert">
                    <small>
                      {{'prePaidCard.holderLastName' | translate}} {{'error.invalid' | translate }}
                    </small>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.dataOfBirth' | translate}}
                  </label>
                  <div class="input-group">
                    <input type="text" #dateBirth="bsDatepicker"
                           bsDatepicker placement="top" [bsConfig]="bsConfig"
                           name="dateBirth" class="form-control"
                           formControlName="dataOfBirth"
                           [maxDate]="today"
                           required/>
                    <span class=" input-group-addon icon -calendar"
                          (click)="dateBirth.show()"></span>
                  </div>
                </div>
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.gender' | translate }}
                  </label>
                  <ng-select
                          [notFoundText]="'public.noData' | translate"
                          [items]="gender"
                          formControlName="gender"
                          required
                          [virtualScroll]="false"
                          bindLabel="value">
                  </ng-select>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.nationality' | translate }}
                  </label>
                  <ng-select
                          [notFoundText]="'public.noData' | translate"
                          [items]="nationalities"
                          formControlName="nationality"
                          required
                          [virtualScroll]="false"
                          bindLabel="value">
                  </ng-select>
                </div>
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.city' | translate}}
                  </label>
                  <ng-select
                          [notFoundText]="'public.noData' | translate"
                          [items]="cities"
                          formControlName="city"
                          required
                          [virtualScroll]="false"
                          bindLabel="value">
                  </ng-select>
                  <div *ngIf="form.controls.city.hasError('required')
                                        && (form.controls.city.touched || (selectedUserJourney == 1 && !form.controls.national_id.touched))"
                       class="alert alert-danger bottomAlert">
                    <small>{{'error.required' | translate}}</small>
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label class="required labelInfo-apply">
                    {{'prePaidCard.memberPhoneNumber' | translate}}
                  </label>
                  <input name="memberPhoneNumber" formControlName="memberPhoneNumber" type="text"
                         class="form-control prepaid-card-form"
                         required
                         inputPattern="onlyMobileNumbers"
                         maxlength="15"/>
                  <div *ngIf="form.controls.memberPhoneNumber.hasError('required')
                    && (form.controls.memberPhoneNumber.touched || (selectedUserJourney == 1 && !form.controls.national_id.touched))" class="alert alert-danger bottomAlert">
                    <small>{{'error.required' | translate}}</small>
                  </div>
                  <div *ngIf="form.controls.memberPhoneNumber.hasError('pattern')
                    && form.controls.memberPhoneNumber.touched" class="alert alert-danger bottomAlert">
                    <small>
                      {{ 'error.format' | translate:{format: commonValidators.mobileNumberTextPattern} }}
                    </small>
                  </div>
                </div>
<!--                <div class="col-xs-12 col-sm-6 col-form-group">-->
<!--                  <label class="required labelInfo-apply">-->
<!--                    {{'prePaidCard.account' | translate }}-->
<!--                  </label>-->
<!--                  <ng-select-->
<!--                          [notFoundText]="'public.noData' | translate"-->
<!--                          [items]="accounts"-->
<!--                          formControlName="account"-->
<!--                          required-->
<!--                          [virtualScroll]="false"-->
<!--                          bindLabel="ibanNumber"-->
<!--                          bindValue="fullAccountNumber">-->
<!--                  </ng-select>-->
<!--                </div>-->
              </div>

              <div *ngIf="selectedUserJourney == 0" class="row">
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label>{{ 'prePaidCard.id_iqama'| translate  }}</label>
                  <div class='input-group'>
                    <input formControlName='id_iqamaFile'   type='text' class='form-control' placeholder='Upload file' >
                    <span class='input-group-btn'>
                        <div class='fileUpload btn'>
                            <span>{{'public.upload' | translate | uppercase}}</span>
                            <input type='file' (change)='idIqamaAttachmentChange($event)'
                                   accept='.jpeg,.pdf,.gif,.jpg,.png'
                                   class='upload'>
                        </div>
                    </span>
                  </div>
                </div>
                <div class="col-xs-12 col-sm-6 col-form-group">
                  <label>{{ 'prePaidCard.empCertificate'| translate  }}</label>
                  <div class='input-group'>
                    <input formControlName='empCertificateFile' type='text' class='form-control' placeholder='Upload file' >
                    <span class='input-group-btn'>
                        <div class='fileUpload btn'>
                            <span>{{'public.upload' | translate | uppercase}}</span>
                            <input type='file' (change)='empCertificateChange($event)'
                                   accept='.jpeg,.pdf,.gif,.jpg,.png'
                                   class='upload'>
                        </div>
                    </span>
                  </div>
                </div>
              </div>

              <div *ngIf="selectedUserJourney == 0" class="row">
                <div class="col-xs-12 col-sm-12">
                  <div class="form-group">
                    <label class="sme-checkbox checkbox-inline">
                      <input type="checkbox" formControlName="termsAndConditions"> <i aria-hidden="true"></i>
                      <a routerLinkActive="router-link-active" target="_blank" class="center-horizontal"
                         [href]="service.termsConditions">
                        {{ 'public.termsConditions' | translate }}
                      </a>
                    </label>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


















